<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>测试跨域</title>
    <script type="text/javascript" src="https://cdn.bootcss.com/jquery/3.3.1/jquery.js"></script>
    <link href="https://cdn.bootcss.com/twitter-bootstrap/4.1.3/css/bootstrap.css" rel="stylesheet">
</head>
<body>
    <input type="button" class="btn btn-success" onclick="add()" value="POST" />
    <input type="button" class="btn btn-success" onclick="getBooks()" value="GetList" />
    <input type="button" class="btn btn-success" onclick="getBook(2)" value="Get" />
    <input type="button" class="btn btn-success" onclick="deletes(1)" value="DELETE" />
    <input type="button" class="btn btn-success" onclick="puts(2)" value="PUT" />
    <input type="button" class="btn btn-success" onclick="getjsonp()" value="GET JSONP" />
    <script type="text/javascript">
        function add() {
            $.ajax({
                url: "//127.0.0.1:8888/api/Books/",
                type: "POST",
                data: { "Name": "java", "price": "33" },
                success: function (data) {
                    alert(JSON.stringify(data))
                }
            })
        }
        function getBooks() {
            $.getJSON(
                "//127.0.0.1:8888/api/Books"
                , function (data) {
                    alert(JSON.stringify(data))
                })
        }

        function getBook() {
            $.getJSON(
                "//127.0.0.1:8888/api/Books/1",
                function (data) {
                    alert(JSON.stringify(data))
                })
        }

        //put 修改
        function puts(id) {
            $.ajax({
                url: "//127.0.0.1:8888/api/Books/" + id,
                type: "PUT",
                data: { "ID": id, "Name": "java2", "price": "33.3" },
                success: function (data) {
                    alert(JSON.stringify(data))
                }
            })
        }

        function deletes(id) {
            $.ajax({
                url: "//127.0.0.1:8888/api/Books/" + id,
                type: "delete",
                success: function (data) {
                    alert(JSON.stringify(data))
                }
            })
        }

           function getjsonp() {
            $.ajax({
                url: "//127.0.0.1:8888/api/Books/",
                type: "POST",
                dataType:"jsonp",
                success: function (data) {
                    alert(JSON.stringify(data))
                }
            })
        }
    </script>
</body>
</html>